{% extends "base.html" %}

{% block title %}Scan History - Wi-Fi Bastion{% endblock %}

{% block body %}
    <h1>Scan History</h1>
    
    <div class="mb-3">
        <a href="/blocked" class="btn btn-info"><i class="fas fa-ban"></i> View Blocked Networks</a>
        <a href="/scan" class="btn btn-primary ms-2"><i class="fas fa-wifi"></i> Back to Scanning</a>
    </div>

    <!-- Scan History Table -->
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Scan ID</th>
                <th>SSID</th>
                <th>Signal Strength</th>
                <th>Encryption Type</th>
                <th>Threats Detected</th>  <!-- New Column -->
            </tr>
        </thead>
        <tbody>
            {% for scan in scans %}
            <tr>
                <td>{{ scan._id|string }}</td>  <!-- Convert _id to string just in case -->
                <td>{{ scan.ssid }}</td>
                <td>{{ scan.signal }}</td>
                <td>{{ scan.encryption }}</td>
                <td>{{ scan.threats }}</td>
            </tr>            
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
